<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>الاستمارة الرسمية الكاملة - عرض واسع</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Tajawal', sans-serif; background: #eff6ff; margin: 0; }
        input, select, textarea { 
            @apply w-full p-4 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all font-bold bg-white text-slate-700 text-lg; 
        }
        label { @apply block text-base font-black text-slate-800 mb-2 mr-1 mt-4; }
        .form-container { @apply w-full max-w-[98%] mx-auto py-8; }
        .section-card { @apply bg-white p-8 md:p-12 rounded-[3rem] shadow-2xl border border-white mb-10 fade-in; }
        .grid-official { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-2; }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .step-pill { @apply px-6 py-2 rounded-full font-black text-sm transition-all border-2; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            const [step, setStep] = useState(1);
            const [f, setF] = useState({});

            const updateF = (key, val) => setF({...f, [key]: val});

            return (
                <div className="min-h-screen">
                    <nav className="bg-blue-900 text-white p-6 shadow-xl text-center">
                        <h1 className="text-2xl md:text-3xl font-black">استمارة المعلومات للمشاركة في المسابقة على أساس الشهادة</h1>
                        <p className="text-blue-200 mt-2">نموذج رسمي مطابق لملف مديرية التربية</p>
                    </nav>

                    <div className="form-container">
                        {/* نظام التنقل بين الأقسام */}
                        <div className="flex flex-wrap justify-center gap-2 mb-10">
                            <span className={`step-pill ${step===1 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-slate-400 border-slate-200'}`}>1. المعلومات الشخصية</span>
                            <span className={`step-pill ${step===2 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-slate-400 border-slate-200'}`}>2. الحالة تجاه الخدمة الوطنية</span>
                            <span className={`step-pill ${step===3 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-slate-400 border-slate-200'}`}>3. الشهادة والمؤهل</span>
                            <span className={`step-pill ${step===4 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-slate-400 border-slate-200'}`}>4. المسار الدراسي والخبرة</span>
                        </div>

                        <form className="px-4">
                            {/* القسم 1: المعلومات الشخصية الكاملة */}
                            {step === 1 && (
                                <div className="section-card">
                                    <h2 className="text-2xl font-black text-blue-800 mb-8 border-r-8 border-blue-600 pr-4">أولاً: المعلومات الشخصية</h2>
                                    <div className="grid-official">
                                        <div className="lg:col-span-3 bg-blue-50 p-6 rounded-2xl mb-4">
                                            <label>رقم التعريف الوطني (NIN) - يتكون من 18 رقم</label>
                                            <input required placeholder="أدخل الـ 18 رقماً بدقة" maxLength="18" value={f.nin || ''} onChange={e=>updateF('nin', e.target.value)} />
                                        </div>
                                        <div><label>اللقب (بالعربية)</label><input required onChange={e=>updateF('lastNameAr', e.target.value)} /></div>
                                        <div><label>الاسم (بالعربية)</label><input required onChange={e=>updateF('firstNameAr', e.target.value)} /></div>
                                        <div><label>اللقب (باللاتينية)</label><input required onChange={e=>updateF('lastNameEn', e.target.value)} /></div>
                                        <div><label>الاسم (باللاتينية)</label><input required onChange={e=>updateF('firstNameEn', e.target.value)} /></div>
                                        <div><label>ابن (اسم الأب)</label><input required onChange={e=>updateF('fatherName', e.target.value)} /></div>
                                        <div><label>و (اسم الأم)</label><input required onChange={e=>updateF('motherName', e.target.value)} /></div>
                                        <div><label>لقب الأم</label><input required onChange={e=>updateF('motherLastName', e.target.value)} /></div>
                                        <div><label>تاريخ الميلاد</label><input type="date" required onChange={e=>updateF('birthDate', e.target.value)} /></div>
                                        <div><label>مكان الميلاد</label><input required onChange={e=>updateF('birthPlace', e.target.value)} /></div>
                                        <div><label>الجنس</label>
                                            <select onChange={e=>updateF('gender', e.target.value)}>
                                                <option>ذكر</option><option>أنثى</option>
                                            </select>
                                        </div>
                                        <div><label>الحالة العائلية</label><input placeholder="أعزب، متزوج..." onChange={e=>updateF('familyStatus', e.target.value)} /></div>
                                        <div><label>عدد الأولاد</label><input type="number" defaultValue="0" onChange={e=>updateF('childrenCount', e.target.value)} /></div>
                                        <div className="lg:col-span-2"><label>العنوان الشخصي الكامل</label><input required onChange={e=>updateF('address', e.target.value)} /></div>
                                        <div><label>رقم الهاتف</label><input type="tel" required placeholder="06 / 07 / 05" onChange={e=>updateF('phone', e.target.value)} /></div>
                                        <div><label>البريد الإلكتروني</label><input type="email" onChange={e=>updateF('email', e.target.value)} /></div>
                                    </div>
                                    <div className="mt-12 flex justify-end"><button type="button" onClick={()=>setStep(2)} className="bg-blue-700 text-white px-16 py-4 rounded-2xl font-black text-xl shadow-lg hover:bg-blue-800">التالي (الخدمة الوطنية) ←</button></div>
                                </div>
                            )}

                            {/* القسم 2: الخدمة الوطنية */}
                            {step === 2 && (
                                <div className="section-card">
                                    <h2 className="text-2xl font-black text-blue-800 mb-8 border-r-8 border-blue-600 pr-4">ثانياً: الوضعية تجاه الخدمة الوطنية</h2>
                                    <div className="grid-official">
                                        <div><label>الوضعية</label>
                                            <select onChange={e=>updateF('milStatus', e.target.value)}>
                                                <option>مؤدى</option><option>معفى</option><option>مؤجل</option>
                                            </select>
                                        </div>
                                        <div><label>رقم مرجع الوثيقة</label><input required onChange={e=>updateF('milRef', e.target.value)} /></div>
                                        <div><label>تاريخ إصدارها</label><input type="date" required onChange={e=>updateF('milIssueDate', e.target.value)} /></div>
                                    </div>
                                    <div className="mt-12 flex justify-between">
                                        <button type="button" onClick={()=>setStep(1)} className="bg-slate-200 px-12 py-4 rounded-2xl font-bold text-xl">السابق</button>
                                        <button type="button" onClick={()=>setStep(3)} className="bg-blue-700 text-white px-16 py-4 rounded-2xl font-black text-xl shadow-lg">التالي (الشهادة) ←</button>
                                    </div>
                                </div>
                            )}

                            {/* القسم 3: الشهادة والمؤهل العلمي (مفصل) */}
                            {step === 3 && (
                                <div className="section-card">
                                    <h2 className="text-2xl font-black text-blue-800 mb-8 border-r-8 border-blue-600 pr-4">ثالثاً: الشهادة والمؤهل العلمي</h2>
                                    <div className="grid-official">
                                        <div className="lg:col-span-2"><label>تسمية الشهادة</label><input required placeholder="ليسانس، ماستر، مهندس..." onChange={e=>updateF('degreeTitle', e.target.value)} /></div>
                                        <div><label>الشعبة / التخصص</label><input required onChange={e=>updateF('specialty', e.target.value)} /></div>
                                        <div><label>رقم الشهادة</label><input required onChange={e=>updateF('degreeId', e.target.value)} /></div>
                                        <div><label>تاريخ التخرج (المداولات)</label><input type="date" required onChange={e=>updateF('gradDate', e.target.value)} /></div>
                                        <div><label>المؤسسة المسلمة للشهادة</label><input required onChange={e=>updateF('university', e.target.value)} /></div>
                                        <div><label>مدة التكوين للحصول على الشهادة</label><input placeholder="مثلاً: 3 سنوات" onChange={e=>updateF('studyDuration', e.target.value)} /></div>
                                    </div>
                                    <div className="mt-12 flex justify-between">
                                        <button type="button" onClick={()=>setStep(2)} className="bg-slate-200 px-12 py-4 rounded-2xl font-bold text-xl">السابق</button>
                                        <button type="button" onClick={()=>setStep(4)} className="bg-blue-700 text-white px-16 py-4 rounded-2xl font-black text-xl shadow-lg">التالي (المسار والخبرة) ←</button>
                                    </div>
                                </div>
                            )}

                            {/* القسم 4: المسار الدراسي والخبرة */}
                            {step === 4 && (
                                <div className="section-card">
                                    <h2 className="text-2xl font-black text-blue-800 mb-8 border-r-8 border-blue-600 pr-4">رابعاً: المسار الدراسي والخبرة</h2>
                                    <div className="grid-official">
                                        <div><label>معدل المسار الدراسي (المعدل العام)</label><input type="number" step="0.01" required onChange={e=>updateF('finalAvg', e.target.value)} /></div>
                                        <div><label>معدل سنة التخرج</label><input type="number" step="0.01" onChange={e=>updateF('gradYearAvg', e.target.value)} /></div>
                                        <div><label>هل أنت خريج المدارس العليا؟</label>
                                            <select onChange={e=>updateF('isEsn', e.target.value)}><option>لا</option><option>نعم</option></select>
                                        </div>
                                        <div className="lg:col-span-3 mt-6 p-6 bg-slate-50 rounded-3xl">
                                            <h4 className="font-black mb-4">الخبرة المهنية (إجمالي عدد الأشهر)</h4>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div><label>في قطاع التربية</label><input type="number" placeholder="أشهر" onChange={e=>updateF('expEdu', e.target.value)} /></div>
                                                <div><label>خارج قطاع التربية</label><input type="number" placeholder="أشهر" onChange={e=>updateF('expOther', e.target.value)} /></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="mt-12 flex justify-between">
                                        <button type="button" onClick={()=>setStep(3)} className="bg-slate-200 px-12 py-4 rounded-2xl font-bold text-xl">السابق</button>
                                        <button type="submit" className="bg-green-600 text-white px-20 py-5 rounded-2xl font-black text-2xl shadow-2xl hover:bg-green-700 transition-transform active:scale-95">تأكيد وإرسال الملف النهائي ✅</button>
                                    </div>
                                </div>
                            )}
                        </form>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
