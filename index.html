<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>استمارة معلومات لمسابقة التوظيف - د.عبد المجيد</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ['Tajawal', 'sans-serif'] },
            colors: {
              'dz-green': '#008568',
              'dz-green-dark': '#006b54',
              'admin-blue': '#0f172a',
            }
          },
        },
      }
    </script>
    <style>
      ::-webkit-scrollbar { width: 10px; }
      ::-webkit-scrollbar-track { background: #f8fafc; }
      ::-webkit-scrollbar-thumb { background: #008568; border-radius: 5px; }
      
      input, select, textarea {
        background-color: #ffffff !important;
        color: #000000 !important;
        font-weight: 700 !important;
        border: 2px solid #cbd5e1 !important;
      }
      
      input:focus, select:focus {
        border-color: #008568 !important;
        box-shadow: 0 0 0 4px rgba(0, 133, 104, 0.1);
      }

      label {
        color: #1e293b !important;
        font-weight: 800 !important;
        margin-bottom: 0.5rem;
      }

      .year-strip {
        background: #ffffff;
        border: 2px solid #f1f5f9;
        border-right: 6px solid #008568;
        padding: 1.5rem;
        border-radius: 1.5rem;
        margin-bottom: 1rem;
      }

      .email-final-section {
        background: linear-gradient(to left, #ffffff, #f0fdf4);
        border: 4px solid #008568;
        animation: pulse-border 2s infinite;
      }

      @keyframes pulse-border {
        0% { border-color: #008568; }
        50% { border-color: #059669; }
        100% { border-color: #008568; }
      }
    </style>
  <link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-slate-100 font-sans text-right text-slate-900 leading-relaxed">
    <div id="root"></div>

    <script type="text/babel" data-presets="typescript,react">
      const { useState, useMemo } = React;

      const WILAYAS = [
        "01 أدرار", "02 الشلف", "03 الأغواط", "04 أم البواقي", "05 باتنة", "06 بجاية", "07 بسكرة", "08 بشار", 
        "09 البليدة", "10 البويرة", "11 تمنراست", "12 تبسة", "13 تلمسان", "14 تيارت", "15 تيزي وزو", "16 الجزائر", 
        "17 الجلفة", "18 جيجل", "19 سطيف", "20 سعيدة", "21 سكيكدة", "22 سيدي بلعباس", "23 عنابة", "24 قالمة", 
        "25 قسنطينة", "26 المدية", "27 مستغانم", "28 المسيلة", "29 معسكر", "30 ورقلة", "31 وهران", "32 البيض", 
        "33 إليزي", "34 برج بوعريريج", "35 بومرداس", "36 الطارف", "37 تندوف", "38 تيسمسيلت", "39 الوادي", "40 خنشلة", 
        "41 سوق أهراس", "42 تيبازة", "43 ميلة", "44 عين الدفلى", "45 النعامة", "46 عين تموشنت", "47 غرداية", "48 غليزان", 
        "49 تميمون", "50 برج باجي مختار", "51 أولاد جلال", "52 بني عباس", "53 عين صالح", "54 عين قزام", "55 تقرت", 
        "56 جانت", "57 المغير", "58 المنيعة"
      ];

      const Icon = ({ children, size = 20, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
          {children}
        </svg>
      );
      const Briefcase = (p) => <Icon {...p}><rect width="20" height="14" x="2" y="7" rx="2" ry="2" /><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2-2v16" /></Icon>;
      const User = (p) => <Icon {...p}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></Icon>;
      const GraduationCap = (p) => <Icon {...p}><path d="M22 10v6M2 10l10-5 10 5-10 5z" /><path d="M6 12v5c3 3 9 3 12 0v-5" /></Icon>;
      const Save = (p) => <Icon {...p}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" /><polyline points="17 21 17 13 7 13 7 21" /></Icon>;
      const Mail = (p) => <Icon {...p}><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" /><polyline points="22,6 12,13 2,6" /></Icon>;

      const InputField = ({ label, name, value, onChange, type="text", required=false, options=null, maxLength=null, placeholder="", step="any" }) => (
        <div className="flex flex-col mb-4">
          <label htmlFor={name} className="text-sm font-black text-slate-700">{label} {required && <span className="text-red-600">*</span>}</label>
          {options ? (
            <select name={name} id={name} value={value} onChange={onChange} required={required} className="p-4 rounded-xl shadow-sm outline-none border-2 border-slate-200">
              <option value="">-- اختر من القائمة --</option>
              {options.map(o => <option key={o} value={o}>{o}</option>)}
            </select>
          ) : (
            <input 
              type={type} 
              name={name} 
              id={name} 
              value={value} 
              onChange={onChange} 
              required={required} 
              maxLength={maxLength}
              placeholder={placeholder}
              step={step}
              className="p-4 rounded-xl shadow-sm outline-none border-2 border-slate-200" 
            />
          )}
        </div>
      );

      const FormCard = ({ title, icon, children, className="" }) => (
        <div className={`bg-white rounded-[2rem] border-2 border-slate-200 p-8 mb-10 shadow-sm ${className}`}>
          <div className="flex items-center gap-4 mb-8 border-b-2 border-slate-50 pb-5">
            <div className="bg-dz-green p-3 rounded-2xl text-white shadow-lg shadow-dz-green/20">{icon}</div>
            <h2 className="text-2xl font-black text-slate-800">{title}</h2>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">{children}</div>
        </div>
      );

      const App = () => {
        const initialForm = {
          wilaya: '', rank: '', teachingSubject: '',
          nin: '', lastNameAr: '', firstNameAr: '', lastNameLat: '', firstNameLat: '',
          birthDate: '', birthWilaya: '', gender: 'ذكر', maritalStatus: 'أعزب(ة)', phone: '', email: '',
          degree: '', degreeSpecialty: '', gradDate: '', issuingInstitution: '',
          startYear: '', endYear: '', academicYears: {},
          hasOtherDegrees: 'لا', otherDegreeName: '', otherDegreeSpecialty: '', otherDegreeIssuer: '',
          hasPublications: 'لا', pubNature: '', pubDate: '', pubJournal: '', pubIssue: '', pubLink: '',
          hasProfessionalExp: 'لا', expType: '', expJob: '', expInstitution: '', expCertType: '', expCertNum: '', expCertDate: '', expStartDate: '', expEndDate: '', expTerminationReason: '',
          hasJob: 'لا', currentJobRank: '', firstAppointDate: '', currentRankDate: '', category: '', gradeLevel: '', jobRefNum: '', jobRefDate: '', signingAuthority: '', adminPhone: '', adminEmail: '', adminName: '', adminAddress: '',
          status: 'قيد الانتظار'
        };

        const [formData, setFormData] = useState(initialForm);

        const academicYearsCount = useMemo(() => {
          const s = parseInt(formData.startYear);
          const e = parseInt(formData.endYear);
          return (s && e && e > s) ? Math.min(Math.max(e - s, 1), 7) : 0;
        }, [formData.startYear, formData.endYear]);

        const handleChange = (e) => {
          const { name, value } = e.target;
          if (['nin', 'phone', 'adminPhone'].includes(name)) {
            const onlyNums = value.replace(/[^0-9]/g, '');
            if (onlyNums.length <= (name === 'nin' ? 18 : 10)) setFormData({ ...formData, [name]: onlyNums });
            return;
          }
          setFormData({ ...formData, [name]: value });
        };

        const handleAcademicYearChange = (yearIndex, field, value) => {
          setFormData(prev => ({
            ...prev,
            academicYears: {
              ...prev.academicYears,
              [`Year${yearIndex}`]: { ...(prev.academicYears[`Year${yearIndex}`] || {}), [field]: value }
            }
          }));
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          const saved = localStorage.getItem('dz_recruitment_v18_shared');
          const submissions = saved ? JSON.parse(saved) : [];
          const newEntry = { ...formData, id: Date.now().toString(), submissionDate: new Date().toLocaleString('ar-DZ') };
          localStorage.setItem('dz_recruitment_v18_shared', JSON.stringify([newEntry, ...submissions]));
          
          alert(`شكرا لكم على التسجيل ${formData.firstNameAr} ${formData.lastNameAr} لقد تم ارسال النموذج الى بريد د.عبد المجيد يرجى اتصال به ودفع الملف الورقي لاكمال التسجيل في المنصة`);
          
          setFormData(initialForm);
        };

        return (
          <div className="min-h-screen flex flex-col">
            <header className="bg-admin-blue text-white p-8 shadow-2xl text-center">
              <div className="max-w-7xl mx-auto flex flex-col items-center gap-4">
                <h1 className="text-4xl md:text-5xl font-black tracking-tight mb-2">استمارة معلومات لمسابقة التوظيف على أساس الشهادة</h1>
                <p className="text-2xl font-bold text-dz-green">استمارة خاصة فقط ب د.عبد المجيد</p>
              </div>
            </header>

            <main className="max-w-7xl mx-auto w-full p-4 md:p-12">
              <form onSubmit={handleSubmit} className="animate-in fade-in duration-700">
                <FormCard title="معلومات التعيين" icon={<Briefcase />}>
                  <InputField label="مديرية التربية لولاية" name="wilaya" required value={formData.wilaya} onChange={handleChange} options={WILAYAS} />
                  <InputField label="الرتبة المراد الالتحاق بها" name="rank" required value={formData.rank} onChange={handleChange} options={['أستاذ ابتدائي', 'أستاذ متوسط', 'أستاذ ثانوي', 'مشرف تربية']} />
                  <InputField label="مادة التدريس" name="teachingSubject" required value={formData.teachingSubject} onChange={handleChange} placeholder="اللغة العربية، الرياضيات..." />
                </FormCard>

                <FormCard title="الهوية والمعلومات المدنية" icon={<User />}>
                  <InputField label="رقم التعريف الوطني (NIN)" name="nin" required value={formData.nin} onChange={handleChange} maxLength={18} />
                  <InputField label="اللقب (بالعربية)" name="lastNameAr" required value={formData.lastNameAr} onChange={handleChange} />
                  <InputField label="الاسم (بالعربية)" name="firstNameAr" required value={formData.firstNameAr} onChange={handleChange} />
                  <InputField label="تاريخ الازدياد" name="birthDate" type="date" required value={formData.birthDate} onChange={handleChange} />
                  <InputField label="رقم الهاتف الشخصي" name="phone" required value={formData.phone} onChange={handleChange} maxLength={10} />
                </FormCard>

                <FormCard title="الشهادات والمؤهلات العلمية" icon={<GraduationCap />}>
                  <InputField label="الشهادة المتحصل عليها" name="degree" required value={formData.degree} onChange={handleChange} options={['ليسانس', 'ماستر', 'دكتوراه', 'مهندس دولة']} />
                  <InputField label="تاريخ التخرج" name="gradDate" type="date" required value={formData.gradDate} onChange={handleChange} />
                  <InputField label="المؤسسة المسلمة للشهادة" name="issuingInstitution" required value={formData.issuingInstitution} onChange={handleChange} />
                  
                  <div className="md:col-span-3 p-8 bg-dz-green/5 rounded-[2.5rem] border-2 border-dz-green/10 my-4">
                    <h3 className="font-black text-dz-green mb-6 text-xl">المسار الدراسي (من سنة إلى سنة)</h3>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                      <InputField label="سنة بداية التكوين" name="startYear" type="number" value={formData.startYear} onChange={handleChange} />
                      <InputField label="سنة نهاية التكوين" name="endYear" type="number" value={formData.endYear} onChange={handleChange} />
                    </div>
                    {academicYearsCount > 0 && Array.from({ length: academicYearsCount }).map((_, idx) => (
                      <div key={idx+1} className="year-strip grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                        <div className="font-black text-dz-green">السنة {idx+1}</div>
                        <InputField label="سداسي 1" type="number" step="0.01" onChange={(e) => handleAcademicYearChange(idx+1, 's1', e.target.value)} />
                        <InputField label="سداسي 2" type="number" step="0.01" onChange={(e) => handleAcademicYearChange(idx+1, 's2', e.target.value)} />
                        <InputField label="السنوي" type="number" step="0.01" onChange={(e) => handleAcademicYearChange(idx+1, 'ann', e.target.value)} />
                      </div>
                    ))}
                  </div>
                </FormCard>

                <FormCard title="الوضعية المهنية الحالية" icon={<Briefcase />}>
                  <div className="md:col-span-3">
                    <InputField label="هل تشغل وظيفة حالياً؟" name="hasJob" required value={formData.hasJob} onChange={handleChange} options={['نعم', 'لا']} />
                    {formData.hasJob === 'نعم' && (
                      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8 bg-blue-50/30 rounded-[2.5rem] border-2 border-blue-100 mt-6">
                        <InputField label="الرتبة المشغولة" name="currentJobRank" required value={formData.currentJobRank} onChange={handleChange} />
                        <InputField label="تاريخ أول تعيين" name="firstAppointDate" type="date" required value={formData.firstAppointDate} onChange={handleChange} />
                        <InputField label="الصنف" name="category" required value={formData.category} onChange={handleChange} />
                        <InputField label="رقم مرجع التعيين" name="jobRefNum" required value={formData.jobRefNum} onChange={handleChange} />
                        <InputField label="تاريخ المرجع" name="jobRefDate" type="date" required value={formData.jobRefDate} onChange={handleChange} />
                        <InputField label="تسمية الإدارة" name="adminName" required value={formData.adminName} onChange={handleChange} />
                        <InputField label="البريد الإلكتروني للإدارة" name="adminEmail" type="email" required value={formData.adminEmail} onChange={handleChange} />
                        <div className="md:col-span-2 lg:col-span-3">
                           <InputField label="عنوان الإدارة" name="adminAddress" required value={formData.adminAddress} onChange={handleChange} />
                        </div>
                      </div>
                    )}
                  </div>
                </FormCard>

                <FormCard title="بيانات الاتصال النهائية" icon={<Mail />} className="email-final-section">
                  <div className="md:col-span-3">
                    <InputField label="البريد الإلكتروني الشخصي (إلزامي)" name="email" type="email" required value={formData.email} onChange={handleChange} placeholder="example@mail.com" />
                  </div>
                </FormCard>

                <div className="flex justify-center mt-10">
                  <button type="submit" className="bg-dz-green hover:bg-dz-green-dark text-white text-4xl font-black py-8 px-32 rounded-[3rem] shadow-2xl transition-all hover:scale-[1.03] flex items-center gap-5">
                    إرسال
                  </button>
                </div>
              </form>
            </main>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>